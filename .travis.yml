language: node_js
node_js:
  - node # uses most recent stable node version
services:
  - postgresql # starts up postgres
addons:
  postgresql: '9.6' # highest available postgres version on Travis
dist: trusty # uses trusty environment
sudo: false # when on trusty, uses Docker containers for speed
notifications:
  email:
    on_success: change # default: change (only when going from broken to fixed)
    on_failure: always # default: always (which is annoying, as it should be)
install:
  - npm ci # faster, goes only from package-lock
before_deploy: # omit node_modules, since we set skip_cleanup below
  - rm -rf node_modules
deploy: # see README for details on these keys
  # prevents travis from deleting the build
  skip_cleanup: true
  provider: heroku
  # app should be your heroku app name; see README
  app: fsa-deploy-workshop
  # the secure key indicates an encrypted value; see README
  api_key:
    secure: QBQyayXKgWm4qZ7vBtrhwgSzLhq1Ay07dc1jJ0fwTZKoyxqYsEs9kEY73t043c3ROc24bXP2fTaGtWIjglDGS12LbIrrAfqbUwf9rZWeTdPdVrrz1WTyxQfb+/pJ6qVuMvv99J6asdhy/5D+sWXwIeb8Lq8x8dZrBz62w/hlopdCZUcnQqKeR/lFckBn439d+fLKVjrZD/40MW3c5+LRjzzYzpYO31DIk+8a/R+s5FUYKAM9D1yhMkr7p4Me9qK0xgTQkKFPgx+DD/e2ZoZfyUmUpYjVHSMnCQGvhD7dACbyjuD5xdF54thSq+oehEDAH7Y3KnLMEOIhZ8rxue3Vf2jsCYBp1C3GqqESSfBmH0JVpg+SRX/Jh6N9IU5HQrGfHAfIUr/mMHf//UxrvIvfJOrBS0C66uE8N9Fh0CWl7izvkNboIj58QdNKpf9w6Y7zSs9OVVFOQyPYWpczW1stlDbj4YB+RybtwCK/ZzVFRkxwZQCDxtHL1WYMiPaLQFLs8dps7S1/ELjDtAGdrGEfmlHcZnVpLD7rdFDvNUo9gKO5Jfcp7O2bc8mycbLy6g6cQWXEfygzs6m4DQfLPmf5+ai/Q8wDwCRIn1GG23fAv895rE7RshLyS2Qz3zPCW3BgzLr0Fn6AYIHo5nJ5Ib+RS0FK8hj3Irk+huwurLhEqbg=
